@model MyJobLeads.ViewModels.Companies.CompanyDisplayViewModel

@{
    ViewBag.Title = "Company: " + Model.Name;
}

<div class="grid1 floatLeft"> 
    <div class="lineSeperater"> 
        <div class="pageInfoBox">
            <div class="grid3 marginBottom_10 marginAuto floatLeft"> 
                <h3 class="floatLeft">@Model.Name</h3> 
                @Html.ActionLink("Edit Details", MVC.Company.Edit(Model.Id), new { @class = "floatRight blueLinks", title = "Edit Details" })
            </div> 

            <div class="grid3 marginBottom_10 floatLeft"> 
                <div class="grid4 floatLeft"> 
                    <p class="greyHighlight">Phone: <span class="setTask">@Model.Phone</span></p> 
                    <p class="greyHighlight">Location: <span class="setTask">@Model.Location</span></p> 
                </div> 
                <div class="grid4 floatRight"> 
                    <p class="greyHighlight">Status: <span class="setTask">@Model.LeadStatus</span></p> 
                </div> 
            </div> 
                                
            <div class="grid3 marginBottom_10 floatLeft"> 
                <div class="floatLeft">
                    <p class="greyHighlight">Notes: 
                        <span class="setTask">@Html.Raw(Html.Encode(Model.Notes).Replace(Environment.NewLine, "<br />"))</span>
                    </p>
                </div> 
            </div> 

            <div class="clear"></div>
        </div> 
    </div> 
</div> 
                    
<div class="grid1 marginTop_20 floatLeft"> 
    <div class="grid2 floatLeft"> 

        @if (Model.OpenTasks.Count > 0)
        {
            <h3 class="taskCalls">Open Tasks</h3> 
            <div id="taskRole"> 
                <ul>
                    @foreach (var task in Model.OpenTasks.OrderBy(x => x.DueDate))
                    {
                        <li>
                            <a href="@Url.Action(MVC.Task.Details(task.Id))" title="Show Task Details">
                                <div class="greyHighlight date">@Html.GetDueDateString(task.DueDate)</div>
                                <div class="taskName">@task.Name</div>
                                <p class="taskDescription">@task.AssociatedWith</p>
                                <p>@task.Notes</p>
                            </a>
                        </li>
                    }
                </ul> 
             </div>	
        }
                
        @if (Model.CompletedTasks.Count > 0)
        {           
            <h3 class="taskCalls">Completed Tasks</h3> 
            <div id="taskRole"> 
                <ul>
                    @foreach (var task in Model.CompletedTasks.OrderBy(x => x.CompletionDate))
                    {
                        <li>
                            <a href="@Url.Action(MVC.Task.Details(task.Id))">
                                <div class="greyHighlight date">Completed</div>
                                <div class="taskName">@task.Name</div>
                                <p class="taskDescription">@task.AssociatedWith</p>
                                <p>@task.Notes</p>
                            </a>
                        </li>
                    }
                </ul>  
            </div>                        
        }
        
    </div> 
                    
    <div class="grid2 floatRight"> 
        <div class="contactsPositionsNv"><a class="active" href="" title="Contacts">Contacts</a> | <a href="#" title="Positions">Positions</a></div> 
        <a class="add blueLinks">Add New Position</a> 
                            
        <div id="contactsList"> 
            <ul> 
                <li> 
                    <div class="contactName">Sr. QA Analyst</div> 
                    <p class="greyHighlight">Not Applied Yet</p> 
                    <p><span class="greyHighlight">Direct:</span> (201) 293-9355 <span class="greyHighlight">Mobile:</span> (201) 293-2312</p> 
                    <p>8/4 I need to figure out who is working The job because it doesn't make sense …</p> 
                </li> 
                                  
            </ul> 
        </div> 
    </div> 
</div> 