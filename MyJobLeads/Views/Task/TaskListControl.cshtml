@model IList<MyJobLeads.DomainModel.Entities.Task>

@foreach (var task in Model)
{
    <p>
        @Html.ActionLink(task.Name, MVC.Task.Details(task.Id), new { @class = "name" })

        @if (task.TaskDate.HasValue)
        {
            if (task.TaskDate.Value.Date == DateTime.Today)
            {
                @:Due Today
            }
            
            else if (task.TaskDate.Value.Date == DateTime.Today.Subtract(new TimeSpan(1, 0, 0, 0)))
            {
                @:Due Yesterday
            }

            else if (task.TaskDate.Value.Date == DateTime.Today.Add(new TimeSpan(1, 0, 0, 0)))
            {
                @:Due Tomorrow
            }

            else
            {
                @:Due @task.TaskDate.Value.Date.ToString()
            }
        }
        
        <br />

        @if (task.Contact != null)
        {
            @task.Contact.Name @: - 
        }
        
        @task.Company.Name
    </p>
}
