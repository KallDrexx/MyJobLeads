@model MyJobLeads.DomainModel.Entities.Task

@{
    ViewBag.Title = "Task: " + Model.Name;
}

<h2>@Model.Name</h2> <br />                                                                                      

<p>
    @if (Model.ContactId != null) 
    { 
        @:This task is associated with @Html.ActionLink(Model.Contact.Name, MVC.Contact.Details((int)Model.ContactId))
    }
    else
    {
        @:This task is associated with @Html.ActionLink(Model.Company.Name, MVC.Company.Details((int)Model.CompanyId))
    }

    <p>
        Category: @Model.Category <br />
        Task Due Date: @if (Model.TaskDate.HasValue) { @Model.TaskDate.Value.ToString() } else { <text>&lt;No Date Set&gt;</text> } <br />

        @if (Model.CompletionDate == null) 
        { 
            <b>Not Completed</b>
        }
        else 
        { 
            @:Completed on: @Model.CompletionDate.Value.ToString() 
        }
        <br />

        <table>
            <tr>
                <td valign="top">Notes:  &nbsp;</td>
                <td>@Html.Raw(Html.Encode(Model.Notes).Replace(Environment.NewLine, "<br />"))</td>
            </tr>
        </table>
    </p>                                                       
</p>

@Html.ActionLink("Edit Task Details", MVC.Task.Edit(Model.Id)) &nbsp; 
